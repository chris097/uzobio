'use client'
import React, { InputHTMLAttributes, useState } from 'react';

interface InputProps {
    label: string;
    dark?: boolean;
    input: InputHTMLAttributes<HTMLInputElement>;
    isPassword?: boolean;
    labelStyle?: string;
}

const Input = ({ label, input, dark = false, isPassword = false, labelStyle }: InputProps) => {
    const [showPassword, setShowPassword] = useState(false);


    const togglePasswordVisibility = () => {
        setShowPassword((prev) => !prev);
    };

    return (
        <div className='w-full'>
            <label className={`${dark ? 'text-white' : 'text-[#101928]'} font-inter fon-[500] md:text-[14px] text-[12px] leading-[14.52px] md:leading-[20.3px] ${labelStyle}`}>
                {label}
            </label>
            <div className='mt-1 relative'>
                <input
                    {...input}
                    type={isPassword ? (showPassword ? 'text' : 'password') : input.type}
                    className={`border w-full outline-none input disabled:cursor-not-allowed ${dark
                        ? 'focus:border-[#ea5823] focus:bg-[#1C1C1C] bg-[#1C1C1C] border border-[#FCFCFC] placeholder:text-[#E9EAEE40]'
                        : 'focus:border-[#ea5823] text-[14px] border-[#D0D5DD] text-[#101928]'
                        } rounded-[6px] md:h-[56px] h-[44px] font-inter px-4 placeholder:text-[#98A2B3]`}

                />
                {isPassword && (
                    <button
                        type="button"
                        onClick={togglePasswordVisibility}
                        className="absolute right-4 top-1/2 transform -translate-y-1/2 text-sm text-gray-600 focus:outline-none"
                    >
                        {showPassword ? <svg width="18" height="15" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.266 7.16659C15.5827 3.25825 12.416 0.833252 8.99932 0.833252C5.58266 0.833252 2.41599 3.25825 0.732657 7.16659C0.68677 7.27172 0.663086 7.3852 0.663086 7.49992C0.663086 7.61463 0.68677 7.72811 0.732657 7.83325C2.41599 11.7416 5.58266 14.1666 8.99932 14.1666C12.416 14.1666 15.5827 11.7416 17.266 7.83325C17.3119 7.72811 17.3356 7.61463 17.3356 7.49992C17.3356 7.3852 17.3119 7.27172 17.266 7.16659V7.16659ZM8.99932 12.4999C6.35766 12.4999 3.85766 10.5916 2.41599 7.49992C3.85766 4.40825 6.35766 2.49992 8.99932 2.49992C11.641 2.49992 14.141 4.40825 15.5827 7.49992C14.141 10.5916 11.641 12.4999 8.99932 12.4999ZM8.99932 4.16659C8.34005 4.16659 7.69559 4.36208 7.14742 4.72835C6.59926 5.09462 6.17202 5.61522 5.91972 6.22431C5.66743 6.83339 5.60142 7.50362 5.73004 8.15022C5.85866 8.79682 6.17613 9.39077 6.6423 9.85694C7.10848 10.3231 7.70242 10.6406 8.34902 10.7692C8.99563 10.8978 9.66585 10.8318 10.2749 10.5795C10.884 10.3272 11.4046 9.89998 11.7709 9.35182C12.1372 8.80365 12.3327 8.15919 12.3327 7.49992C12.3327 6.61586 11.9815 5.76802 11.3563 5.1429C10.7312 4.51777 9.88338 4.16659 8.99932 4.16659V4.16659ZM8.99932 9.16659C8.66969 9.16659 8.34745 9.06884 8.07337 8.8857C7.79929 8.70257 7.58567 8.44227 7.45952 8.13772C7.33338 7.83318 7.30037 7.49807 7.36468 7.17477C7.42899 6.85147 7.58772 6.5545 7.82081 6.32141C8.0539 6.08832 8.35087 5.92958 8.67417 5.86528C8.99747 5.80097 9.33258 5.83397 9.63713 5.96012C9.94167 6.08627 10.202 6.29989 10.3851 6.57397C10.5682 6.84805 10.666 7.17028 10.666 7.49992C10.666 7.94195 10.4904 8.36587 10.1778 8.67843C9.86527 8.99099 9.44135 9.16659 8.99932 9.16659Z" fill="#86828D" />
                        </svg>
                            : <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16.2554 0.744078C16.5808 1.06951 16.5808 1.59715 16.2554 1.92259L2.92206 15.2559C2.59662 15.5814 2.06899 15.5814 1.74355 15.2559C1.41811 14.9305 1.41811 14.4028 1.74355 14.0774L15.0769 0.744078C15.4023 0.418641 15.93 0.418641 16.2554 0.744078Z" fill="#86828D" />
                                <path d="M12.1657 2.4767C11.2272 2.03469 10.1689 1.75 8.99946 1.75C6.54604 1.75 4.58177 3.00308 3.1858 4.33307C1.78661 5.66611 0.878723 7.14973 0.519336 7.7915C0.283819 8.21207 0.255768 8.71426 0.449092 9.16031C0.584103 9.47181 0.813707 9.95437 1.15212 10.5143C1.39016 10.9082 1.90245 11.0346 2.29635 10.7965C2.69024 10.5585 2.81659 10.0462 2.57854 9.65232C2.30635 9.20192 2.11748 8.81241 2.00291 8.55369C2.34104 7.95778 3.14184 6.67693 4.33544 5.53975C5.56834 4.36513 7.14116 3.41667 8.99946 3.41667C9.66784 3.41667 10.2993 3.53937 10.8913 3.75116L12.1657 2.4767Z" fill="#86828D" />
                                <path d="M13.7416 5.61491C14.892 6.73288 15.6653 7.97087 15.996 8.55369C15.8814 8.81241 15.6926 9.20192 15.4204 9.65232C15.1823 10.0462 15.3087 10.5585 15.7026 10.7965C16.0965 11.0346 16.6087 10.9082 16.8468 10.5143C17.1852 9.95437 17.4148 9.47181 17.5498 9.1603C17.7431 8.71426 17.7151 8.21207 17.4796 7.7915C17.1294 7.16625 16.2587 5.74193 14.9202 4.43629L13.7416 5.61491Z" fill="#86828D" />
                                <path d="M8.99947 4.66667C9.30232 4.66667 9.59762 4.69898 9.88211 4.76034L8.16725 6.47519C7.45601 6.7262 6.89234 7.28987 6.64133 8.00112L4.92647 9.71597C4.86511 9.43148 4.8328 9.13618 4.8328 8.83333C4.8328 6.53215 6.69828 4.66667 8.99947 4.66667Z" fill="#86828D" />
                                <path d="M8.99947 11.3333C8.70708 11.3333 8.4264 11.2831 8.1656 11.1909L6.91473 12.4418C7.52791 12.7968 8.23996 13 8.99947 13C11.3007 13 13.1661 11.1345 13.1661 8.83333C13.1661 8.07382 12.9629 7.36177 12.6079 6.74859L11.357 7.99947C11.4493 8.26027 11.4995 8.54094 11.4995 8.83333C11.4995 10.214 10.3802 11.3333 8.99947 11.3333Z" fill="#86828D" />
                            </svg>
                        }
                    </button>
                )}
            </div>
        </div>
    );
};

export default Input;